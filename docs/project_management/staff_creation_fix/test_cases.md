# Test Cases: 修复员工信息创建 404 错误

### 测试用例: 成功创建新员工

**测试目的:**
验证能够从有效的表单数据中成功创建新的员工记录。

**涉及模块/文件:**
`backend/api/staff_api.py`, `ServicePersonnel` 模型

**输入:**
- `data_id`: 指向一个存在的 `DynamicFormData` 记录。
- 该记录的 `result_details` 包含：
    - 姓名: "测试阿姨"
    - 手机号: "13800138000"
    - 身份证号: "110101199001011234"
    - 地址: "北京市朝阳区"

**期望输出:**
- HTTP 200 OK
- JSON 响应包含 `message: "员工信息创建成功"`
- 数据库中新增一条 `ServicePersonnel` 记录，字段与输入一致。

**实际输出 & 测试结果:**
- 单元测试: [待填充]
- 集成测试: [待填充]
- **最终检查结果:** [待填充]

---

### 测试用例: 员工已存在（手机号重复）

**测试目的:**
验证当手机号已存在时，系统能够正确处理（更新或提示）。

**输入:**
- `data_id`: 指向一个表单数据，其手机号 "13800138000" 已在 `ServicePersonnel` 表中存在。

**期望输出:**
- HTTP 200 OK (如果策略是更新) 或 400/409 (如果策略是报错)
- 建议策略：更新现有记录，返回 "员工信息已更新"。

**实际输出 & 测试结果:**
- 单元测试: [待填充]
- 集成测试: [待填充]
- **最终检查结果:** [待填充]

---

### 测试用例: 表单数据缺失关键字段

**测试目的:**
验证当表单数据缺少姓名或手机号时，接口报错。

**输入:**
- `data_id`: 指向一个缺少“手机号”字段的表单数据。

**期望输出:**
- HTTP 400 Bad Request
- 错误消息提示缺少必要信息。

**实际输出 & 测试结果:**
- 单元测试: [待填充]
- 集成测试: [待填充]
- **最终检查结果:** [待填充]
